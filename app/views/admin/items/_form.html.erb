<%# app/views/admin/items/_form.html.erb %>
<div class="item-card" style="max-width: 800px; margin: 0 auto; padding: 30px; background: #2b2724;">
  <%= form_with(model: [:admin, item], local: true) do |f| %>
    
    <% if item.errors.any? %>
      <div style="background: rgba(207, 109, 55, 0.1); border: 1px solid var(--primary); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
        <h4 style="color: var(--primary); margin-top: 0;">–ü–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ:</h4>
        <ul style="color: #ff6b6b; font-size: 0.9rem;">
          <% item.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
      <div class="form-group" style="grid-column: span 2;">
        <%= f.label :name, "–ù–∞–∑–≤–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É", style: "display: block; color: var(--primary); margin-bottom: 8px;" %>
        <%= f.text_field :name, class: "form-control", style: "width: 100%; background: #332f2c; color: white; border: 1px solid var(--muted); padding: 12px; border-radius: 6px;" %>
      </div>

      <div class="form-group">
        <%= f.label :price, "–¶—ñ–Ω–∞ (‚Ç¥)", style: "display: block; color: var(--primary); margin-bottom: 8px;" %>
        <%= f.number_field :price, step: 0.01, class: "form-control", style: "width: 100%; background: #332f2c; color: white; border: 1px solid var(--muted); padding: 12px; border-radius: 6px;" %>
      </div>

      <div class="form-group">
        <%= f.label :quantity, "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥—ñ", style: "display: block; color: var(--primary); margin-bottom: 8px;" %>
        <%= f.number_field :quantity, class: "form-control", style: "width: 100%; background: #332f2c; color: white; border: 1px solid var(--muted); padding: 12px; border-radius: 6px;" %>
      </div>

      <div class="form-group" style="grid-column: span 2;">
        <%= f.label :description, "–û–ø–∏—Å", style: "display: block; color: var(--primary); margin-bottom: 8px;" %>
        <%= f.text_area :description, rows: 6, class: "form-control", style: "width: 100%; background: #332f2c; color: white; border: 1px solid var(--muted); padding: 12px; border-radius: 6px; resize: vertical;" %>
      </div>

      <div class="form-group" style="grid-column: span 2;">
        <label style="display: block; color: var(--primary); margin-bottom: 15px;">–¢–µ–≥–∏ —Ç–∞ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó</label>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; background: #1a1a1a; padding: 15px; border-radius: 8px;">
          <%= f.collection_check_boxes :tag_ids, Tag.all, :id, :name do |b| %>
            <label style="display: flex; align-items: center; gap: 8px; font-size: 0.9rem; cursor: pointer;">
              <%= b.check_box %>
              <%= b.label %>
            </label>
          <% end %>
        </div>
      </div>
    </div>

    <div style="margin-top: 30px; display: flex; gap: 15px;">
      <%= f.submit item.new_record? ? "–°–¢–í–û–†–ò–¢–ò –¢–û–í–ê–† ü§ò" : "–û–ù–û–í–ò–¢–ò –¢–û–í–ê–† ‚ú®", class: "btn-primary", style: "flex: 2; padding: 15px;" %>
      <%= link_to "–°–ö–ê–°–£–í–ê–¢–ò", admin_items_path, class: "btn-outline", style: "flex: 1; text-align: center; display: flex; align-items: center; justify-content: center; text-decoration: none;" %>
    </div>
  <% end %>
</div>