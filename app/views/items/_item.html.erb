<div class="item-card" style="position: relative; display: flex; flex-direction: column; background: #2b2724; border: 1px solid #3d3834; border-radius: 8px; overflow: hidden; height: 100%; transition: transform 0.2s, border-color 0.2s;">
  
  <%# 1. –ì–æ–ª–æ–≤–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤—Å—é –∫–∞—Ä—Ç–∫—É %>
  <%= link_to "", item_path(item), class: "main-card-link", style: "position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;" %>

  <%# 2. –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è %>
  <div class="card-image-wrapper" style="width: 100%; height: 250px; background: #fff; display: flex; align-items: center; justify-content: center; overflow: hidden; padding: 10px;">
    <% if item.image.attached? %>
      <%= image_tag item.image.variant(resize_to_limit: [400, 400]), 
          style: "max-width: 100%; max-height: 100%; object-fit: contain;", 
          alt: item.name %>
    <% else %>
      <div style="color: #ccc; font-size: 3rem;">üé∏</div>
    <% end %>
  </div>

  <%# 3. –ö–æ–Ω—Ç–µ–Ω—Ç %>
  <div style="padding: 20px; display: flex; flex-direction: column; flex-grow: 1; position: relative;">
    <h3 style="color: #fff; margin: 0 0 10px 0; font-size: 1.1rem; min-height: 2.4em; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
      <%= item.name %>
    </h3>
    
    <div style="margin-top: auto;">
      <div style="color: var(--primary); font-size: 1.25rem; font-weight: bold; margin-bottom: 5px;">
        <%= number_to_currency(item.price, unit: "‚Ç¥", format: "%n %u") %>
      </div>

      <span style="color: var(--muted); font-size: 0.8rem; display: block; margin-bottom: 15px;">–î–ï–¢–ê–õ–¨–ù–Ü–®–ï</span>

      <div style="position: relative; z-index: 10;"> 
        <%= button_to "–£ –ö–û–®–ò–ö", cart_items_path(item_id: item.id), 
          class: "btn-primary", 
          style: "width: 100%; padding: 12px; font-weight: bold; text-transform: uppercase; border: none; cursor: pointer; display: block;" %>
      </div>
    </div>
  </div>
</div>