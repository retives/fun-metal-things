<div class="max-w-6xl mx-auto px-4 py-8">
  <%# –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ %>
  <div class="mb-6">
    <%= link_to items_path, class: "flex items-center text-primary hover:underline transition-all" do %>
      <span class="mr-2">‚Üê</span> –ù–∞–∑–∞–¥ –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É
    <% end %>
  </div>

  <%# –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–æ–≤–∞—Ä—É %>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 bg-stone-800 p-6 md:p-10 rounded-2xl border border-stone-700 shadow-xl">
    
    <%# –í—ñ–∑—É–∞–ª—å–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ %>
    <div class="flex items-center justify-center bg-stone-900 rounded-xl min-h-[400px] border border-stone-700 p-4">
      <% if @item.image.attached? %>
        <%= image_tag @item.image, class: "max-w-full h-auto rounded-lg shadow-2xl" %>
      <% else %>
        <div class="text-center text-stone-500">
          <span class="text-6xl mb-4 block">üé∏</span>
          <p class="uppercase tracking-widest text-sm">–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ—á—ñ–∫—É—î—Ç—å—Å—è</p>
        </div>
      <% end %>
    </div>

    <%# –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ %>
    <div class="flex flex-col">
      <h1 class="text-4xl md:text-5xl font-bold text-white mb-4"><%= @item.name %></h1>
      
      <%# –¢–µ–≥–∏ %>
      <div class="flex flex-wrap gap-2 mb-6">
        <% @item.tags.each do |tag| %>
          <span class="px-3 py-1 border border-primary text-primary text-xs font-mono rounded-full bg-primary/5">
            #<%= tag.name %>
          </span> 
        <% end %>
      </div>

      <div class="text-lg text-stone-400 mb-8 flex-grow leading-relaxed">
        <%= @item.description %> 
      </div>

      <%# –ë–ª–æ–∫ —Ü—ñ–Ω–∏ —Ç–∞ –¥—ñ—ó %>
      <div class="bg-stone-900/50 p-6 rounded-xl border border-primary/30">
        <div class="text-4xl font-mono text-white mb-4">
          <%= number_to_currency(@item.price, unit: "‚Ç¥", format: "%n %u") %> 
        </div>

        <div class="mb-6 flex items-center gap-2">
          <span class="<%= @item.is_available ? 'text-green-500' : 'text-primary' %> text-lg">‚óè</span>
          <span class="text-stone-300">
            <%= @item.is_available ? "–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ (#{@item.quantity} —à—Ç.)" : "–¢–∏–º—á–∞—Å–æ–≤–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π" %>
          </span>
        </div>

        <% if @item.is_available %>
          <%= button_to cart_items_path(item_id: @item.id), 
                        method: :post, 
                        class: "w-full py-4 bg-primary hover:bg-primary-dark text-white font-bold rounded-lg transition-colors flex justify-center items-center gap-2 tracking-widest",
                        data: { turbo: false } do %>
            –î–û–î–ê–¢–ò –í –ö–û–®–ò–ö üõí
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

  <%# –°–µ–∫—Ü—ñ—è –≤—ñ–¥–≥—É–∫—ñ–≤ –≤–∏–Ω–µ—Å–µ–Ω–∞ –≤ Partial –¥–ª—è —á–∏—Å—Ç–æ—Ç–∏ %>
  <%= render 'reviews', item: @item %>
</div>