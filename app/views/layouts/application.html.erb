<!DOCTYPE html>
<html>
  <head>
    <title>FunMetalThings</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body style="margin: 0; padding-top: 70px; background-color: #0a0a0a; color: #fff; font-family: 'Segoe UI', sans-serif;">
    
    <header style="position: fixed; top: 0; width: 100%; height: 70px; background-color: #1a1a1a; border-bottom: 2px solid #ff4500; display: flex; align-items: center; justify-content: space-between; padding: 0 50px; box-sizing: border-box; z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.5);">
      
      <%= link_to root_path, style: "text-decoration: none; display: flex; align-items: center;" do %>
        <div style="width: 40px; height: 40px; background: #ff4500; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: black; font-size: 20px;">F</div>
        <span style="margin-left: 10px; color: #fff; font-size: 1.5rem; font-weight: bold; letter-spacing: 1px;">FunMetalThings</span>
      <% end %>

      <nav style="display: flex; align-items: center; gap: 30px;">
        <%= link_to "ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³", items_path, style: "color: #ccc; text-decoration: none; font-weight: 500; transition: 0.3s;" %>

        <div class="user-actions" style="display: flex; align-items: center; gap: 15px; border-left: 1px solid #333; padding-left: 30px;">
          <% if user_signed_in? %>
            <%= link_to cart_path, style: "color: #fff; text-decoration: none; position: relative; display: flex; align-items: center;" do %>
              <span style="font-size: 1.2rem;">ðŸ›’</span>
              <span style="background: #ff4500; color: black; font-size: 0.7rem; font-weight: bold; border-radius: 50%; padding: 2px 6px; position: absolute; top: -10px; right: -10px;">
                <%= current_cart.cart_items.sum(:quantity) %>
              </span>
              <span style="margin-left: 10px; font-size: 0.9rem;">ÐšÐ¾ÑˆÐ¸Ðº</span>
            <% end %>
            <div style="width: 35px; height: 35px; background: #444; border-radius: 50%; display: flex; align-items: center; justify-content: center;">ðŸ‘¤</div>
            <span style="color: #eee; font-size: 0.9rem;"><%= current_user.email %></span>
            <%= link_to "Ð’Ð¸Ñ…Ñ–Ð´", destroy_user_session_path, data: { turbo_method: :delete }, style: "color: #ff4500; text-decoration: none; font-size: 0.8rem; border: 1px solid #ff4500; padding: 5px 10px; border-radius: 4px;" %>
          <% else %>
            <%= link_to "Ð’Ñ…Ñ–Ð´", new_user_session_path, style: "color: #fff; text-decoration: none;" %>
            <%= link_to "Ð ÐµÑ”ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ", new_user_registration_path, style: "background: #ff4500; color: #fff; text-decoration: none; padding: 8px 18px; border-radius: 4px; font-weight: bold;" %>
          <% end %>
        </div>
      </nav>
    </header>

    <main style="padding: 20px 50px;">
      <%= yield %>
    </main>

  </body>
</html>